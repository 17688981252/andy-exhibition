<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
	<th:block th:include="include :: header('修改展会')" />
</head>
<body class="white-bg">
	<div class="wrapper wrapper-content animated fadeInRight ibox-content">
		<form class="form-horizontal" id="form-send-materialDetial" th:object="${SendMaterialDetail}">
			<input id="asnOrderId" name="asnOrderId" type="hidden" th:field="*{asnOrderId}"/>
			<div class="form-group">
				<label class="col-sm-3 control-label is-required">发货单号：</label>
				<div class="col-sm-8">
					<input class="form-control" type="text" name="asnOrderId" id="asnOrderId" th:field="*{asnOrderId}" required>
				</div>
			</div>

			<div class="col-sm-12 select-table table-striped">
				<table id="bootstrap-table"></table>
			</div>

		</form>
	</div>


	<th:block th:include="include :: footer" />
	<script type="text/javascript">
        var prefix = ctx + "business/exhibition";
        $(function() {
            var panehHidden = false;
            if ($(this).width() < 769) {
                panehHidden = true;
            }
            $('body').layout({ initClosed: panehHidden, west__size: 185 });
            queryMaterialList();

        });


        function queryMaterialList() {
            var options = {
                url: prefix + "/list",
                createUrl: prefix + "/add",
                updateUrl: prefix + "/edit/{id}",
                removeUrl: prefix + "/remove",
                exportUrl: prefix + "/export",
                importUrl: prefix + "/importData",
                importTemplateUrl: prefix + "/importTemplate",
                sortName: "createTime",
                sortOrder: "desc",
                modalName: "物料",
                columns: [{
                    checkbox: true
                },
                    {
                        field: 'materialId',
                        title: 'ID'
                    },
                    {
                        field: 'materialName',
                        title: '物料名称'
                    },
                    {
                        field: 'materialCode',
                        title: '物料代码'
                        // sortable: true
                    },
                    {
                        field: 'nickName',
                        title: '物料简称'
                    },  {
                        field: 'specifications',
                        title: '规格型号'
                    },

                    {
                        field: 'type',
                        title: '类型',
                        formatter: function(value, row, index) {

                            return $.table.selectDictLabel(dataType, row.type);
                        }
                    },{
                        field: 'unit',
                        title: '计量单位',
                        formatter: function(value, row, index) {

                            return $.table.selectDictLabel(dataUnit, row.unit);
                        }
                    },
                    {
                        field: 'packageQuantity',
                        title: '标包数量'
                        // visible: false
                    },
                    {
                        field: 'createBy',
                        title: '创建人'
                    },
                    {
                        field: 'createTime',
                        title: '创建时间'
                        // sortable: true
                    },
                    {
                        title: '操作',
                        align: 'center',
                        formatter: function(value, row, index) {

                            var actions = [];
                            actions.push('<a class="btn btn-success btn-xs ' + editFlag + '" href="javascript:void(0)" onclick="$.operate.edit(\'' + row.materialId + '\')"><i class="fa fa-edit"></i>编辑</a> ');
                            actions.push('<a class="btn btn-danger btn-xs ' + removeFlag + '" href="javascript:void(0)" onclick="$.operate.remove(\'' + row.materialId + '\')"><i class="fa fa-remove"></i>删除</a> ');
                            return actions.join('');
                        }
                    }]
            };
            $.table.init(options);
        }


        function submitHandler() {
            if ($.validate.form()) {
                $.operate.save(prefix + "/edit", $('#form-exhibition-edit').serialize());
            }
        }
	</script>
</body>
</html>
